<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="import pymysqlimport datetime
def main(args,*kwargs):    con = pymysql.connect(host=’47.93.237.211’, port=3306,                          user=’root’, ">
    

    <!--Author-->
    
        <meta name="author" content="John Doe">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="石守洋的博客">
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="石守洋的博客">

    <!--Type page-->
    
        <meta property="og:type" content="website">
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>石守洋的博客</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2019/07/30/ee/">
                Untitled
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-07-30</span>
            
            
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <p>import pymysql<br>import datetime</p>
<p>def main(<em>args,*</em>kwargs):<br>    con = pymysql.connect(host=’47.93.237.211’, port=3306,<br>                          user=’root’, password=’123456’,<br>                          database=’message’, charset=’utf8’,<br>                          autocommit=True, cursorclass=pymysql.cursors.DictCursor<br>                          )<br>    try:<br>        # 2.获取游标对象<br>        with con.cursor() as cursor:<br>            # 3.向数据库服务器发送SQL并获取结果<br>            row = cursor.execute(<em>args, *</em>kwargs)<br>            # %s 表示占位符 ，三参数，三元祖，如果只有一个也要加括号<br>            result = cursor.fetchall()<br><br>            return result<br><br>        # 4. 提交事务<br>    finally:<br>        # 5.关闭连接释放外部资源<br>        con.close()</p>
<p>def register():<br>    while True:<br>        try:<br>            username = input(‘请设置账号：’)<br>            passwd = input(‘请设置密码：’)<br>            str1 = ‘insert into tb_user (username, passwd) values (%s,%s)’<br>            main(str1, (username, passwd))<br>            print(‘注册成功！’)<br>            return<br>        except:<br>            print(‘该用户已经注册,请重新注册’)</p>
<p>def login():<br>    while True:<br>        global username<br>        username = input(‘请输入账号：’)<br>        passwd = input(‘请输入密码：’)<br>        str2 = ‘select username, passwd from tb_user where username=%s and passwd=%s’<br>        result = main(str2, (username, passwd))<br>        if result:<br>            print(f’欢迎{username}登录成功’)<br>            return<br>        else:<br>            print(‘密码或账户输错’)</p>
<p>def send_message():<br>    try:<br>        content = input(‘请输入发送信息：’)<br>        receiver = input(‘请输入发送人：’)<br>        title = input(‘请输入标题:’)<br>        str2 = ‘insert into tb_messages (sender,receiver,title,content) values (%s,%s,%s,%s)’</p>
<pre><code>    result = main(str2, (username, receiver, title,content))
    print(&apos;发送成功&apos;)

except:
    print(&apos;输入有误&apos;)</code></pre><p>def read_message():<br>    # 读取消息并标记为已读<br><br>    str2 = ‘select * from tb_messages where receiver=%s and del_m=0’<br>    result = main(str2,(username,))<br>    if not result:<br>        print(‘没有可读取的信息哟’)<br>    else:<br>        result = main(str2,username)<br>        for result1 in result:<br>            a = result1<br>            print(a[‘title’], a[‘content’])<br>            # 标记为已读<br>            str3 = ‘update tb_messages set read_m=1 where receiver=%s’<br>            main(str3, (username,))</p>
<p>def del_all_messages():<br>    # 清空所有消息<br>    str2 = ‘update tb_messages set del_m=1 where receiver=%s’<br>    result = main(str2, (username,))<br>    if not result:<br>        print(‘清空所有消息成功’)</p>
<p>from func1 import *</p>
<p>def main():<br>    while True:<br>        print(‘1.登录\n2.注册\n3.退出’)<br>        value = input(‘请选择:’)<br>        # 登录模块<br>        if value == ‘1’:<br>            login()<br>            while True:<br>                print(‘1.发送短消息\n2.查看未读消息\n3.查看所有消息\n4.清除所有消息\n5.注销’)<br>                value1 = input(‘请选择:’)<br>                #<br>                if value1 == ‘1’:<br>                    print(‘发消息’)<br>                    send_message()<br>                elif value1 == ‘2’:<br>                    # 查看未读消息<br>                    while True:<br>                        print(‘1.读取消息\n2.标记已读\n3.返回上级’)<br>                        value2 = input(‘请选择1-3’)<br>                        if value2 == ‘1’:<br>                            print(‘读取消息’)<br>                            read_message()<br>                        elif value2 == ‘2’:<br>                            print(‘标记已读’)<br>                            # mark_message()<br>                        else:<br>                            break<br>                elif value1 == ‘3’:<br>                    print(‘1.读取消息\n2.删除消息\n3.返回上级’)<br>                    value2 = input(‘请选择1-3’)<br>                    if value2 == ‘1’:<br>                        print(‘读取消息’)<br>                        # read_message()<br>                    elif value2 == ‘2’:<br>                        print(‘删除消息’)<br>                        # del_message()<br>                    else:<br>                        break<br><br>                elif value1 == ‘4’:<br>                    del_all_messages()<br><br>                elif value1 == ‘5’:<br>                    print(‘注销’)<br>                    # logout()<br><br>                else:<br>                    print(‘选择错误，请重新选择’)<br>        # 注册模块<br>        elif value == ‘2’:<br>            while True:<br>                print(‘1.填写注册信息\n2.返回上级’)<br>                value2 = input(‘请选择1-2’)<br>                if value2 == ‘1’:<br>                    print(‘填写注册信息’)<br><br>                    register()<br>                else:<br>                    break<br><br>            # login()<br>        # 退出整个程序模块<br>        elif value == ‘3’:<br>            print(‘退出,bye!’)<br>            return<br>        else:<br>            print(‘输入有误，请重新输入：’)</p>
<p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    main()</p>

    </div>

    

    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/07/30/yuchuli/">Untitled</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/07/30/ee/">Untitled</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/07/29/readme/">Untitled</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/07/29/mkdown1/">Untitled</a>
            </li>
            
        </ul>
    </div>



            
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>